<div class="fixed inset-0 z-40 flex items-center justify-center" (click)="onBackdropClick($event)">
  <div class="absolute inset-0 bg-black/40"></div>
  <div class="relative bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4 p-6 z-50" (click)="$event.stopPropagation()">
    <div class="flex items-start justify-between mb-4">
      <h3 class="text-lg font-semibold">{{ editingTask ? 'Editar tarefa' : 'Nova tarefa' }}</h3>
      <button (click)="onCancel()" class="text-slate-500 hover:text-slate-800">✕</button>
    </div>

    <form (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-3 gap-3 items-end">
      <div>
        <label class="text-sm text-slate-700">Título</label>
        <input 
          [(ngModel)]="title" 
          name="title"
          required 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"
        />
      </div>
      <div>
        <label class="text-sm text-slate-700">Data término</label>
        <input 
          [(ngModel)]="due" 
          name="due"
          type="date" 
          required 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"
        />
      </div>
      <div>
        <label class="text-sm text-slate-700">Nível</label>
        <select 
          [(ngModel)]="level" 
          name="level"
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"
        >
          <option value="low">Baixo</option>
          <option value="medium">Médio</option>
          <option value="high">Alto</option>
        </select>
      </div>
      <div class="md:col-span-3">
        <label class="text-sm text-slate-700">Descrição (breve)</label>
        <textarea 
          [(ngModel)]="desc" 
          name="desc"
          rows="2" 
          class="w-full mt-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"
        ></textarea>
      </div>
      <div class="md:col-span-3 text-right space-x-2">
        <button 
          type="button" 
          (click)="onCancel()"
          class="px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50"
        >
          Cancelar
        </button>
        <button 
          type="submit" 
          class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"
        >
          {{ editingTask ? 'Atualizar' : 'Salvar' }} tarefa
        </button>
      </div>
    </form>
  </div>
</div>